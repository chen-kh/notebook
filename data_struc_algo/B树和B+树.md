# B树与B+树

参考：[漫画：什么是B+树](https://mp.weixin.qq.com/s?__biz=MzI1MTIzMzI2MA==&mid=2650561220&idx=1&sn=2a6d8a0290f967027b1d54456f586405&chksm=f1feec47c689655113fa65f7911a1f59bbd994030ad685152b30e53d643049f969eefaa13058&scene=21#wechat_redirect)

从来没有B减树这种说法，B-树读作B树（Balance Tree）。

<!-- TOC -->

- [平衡树](#平衡树)
    - [平衡树的定义：](#平衡树的定义)
    - [各种平衡树](#各种平衡树)

<!-- /TOC -->

## 平衡树
参见[平衡树-维基百科](https://zh.wikipedia.org/wiki/%E5%B9%B3%E8%A1%A1%E6%A0%91)
### 平衡树的定义：
> - 平衡树是计算机科学中的一类数据结构。 平衡树是计算机科学中的一类改进的二叉查找树。一般的二叉查找树的查询复杂度是跟目标结点到树根的距离（即深度）有关，因此当结点的深度普遍较大时，查询的均摊复杂度会上升，为了更高效的查询，平衡树应运而生了。  
> - 平衡指所有叶子的深度趋于平衡
> - 几乎所有平衡树的操作都基于树旋转操作，通过旋转操作可以使得树趋于平衡。 对一棵查找树（search tree）进行查询/新增/删除 等动作, 所花的时间与树的高度h 成比例, 并不与树的容量 n 成比例。如果可以让树维持矮矮胖胖的好身材, 也就是让h维持在O(log n)左右, 完成上述工作就很省时间。能够一直维持好身材, 不因新增删除而长歪的搜寻树, 叫做balanced search tree（平衡树）。 旋转Rotate —— 不破坏左小右大特性的小手术 平衡树有很多种, 其中有几类树维持平衡的方法, 都是靠整形小手术

### 各种平衡树
- AVL树，经典平衡树, 所有操作的最坏复杂度都是 {\displaystyle O(\log {n})} O(\log{n})的。
- Treap，利用随机堆的期望深度来优化树的深度，达到较优的期望复杂度。
- 伸展树，使得经常查找的结点深度较小，从而降低均摊复杂度。
- 红黑树: 是一棵二叉搜索树，确保没有一条路径比其他路径长处两倍，因此是近似平衡的。
- 加权平衡树。
- 2-3树
- AA树
- 替罪羊树
- 节点大小平衡树

数据库采用的是B+树进行索引，其实BST（搜索树）查询效率已经很高了，但是如果考虑磁盘IO的话，我们发现，树的深度一旦变得很高，IO次数会很多，这是很浪费时间的。

B-树（这里还不是B+树）是一样多路平衡查找树，他的每一个节点最多包含k个孩子，k被称为B树的阶，k的大小取决于磁盘页的大小。

